@tailwind base;
@tailwind components;
@tailwind utilities;

body {
  margin: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
}

/* PWA Safe Area Support for iPhone notch/Dynamic Island */
/* Applied when app is installed as PWA (standalone mode) */
@supports (padding-top: env(safe-area-inset-top)) {
  /* In standalone mode (installed PWA), add safe area padding */
  @media all and (display-mode: standalone) {
    /* Add padding to elements that need to clear the notch */
    .pwa-safe-area-top {
      padding-top: env(safe-area-inset-top);
    }

    /* Extend background color into the safe area */
    body {
      /* Ensure body background fills the safe area */
      background-color: #f9fafb; /* gray-50 */
    }

    /* Make the header background extend into the notch area */
    .pwa-safe-area-top::before {
      content: '';
      position: absolute;
      top: calc(-1 * env(safe-area-inset-top));
      left: 0;
      right: 0;
      height: env(safe-area-inset-top);
      background-color: inherit;
    }
  }
}

/* Bottom safe area for iOS home indicator */
.safe-area-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0px);
}

/* Position fixed elements above the mobile bottom nav (h-16 + safe area) */
.above-mobile-nav {
  bottom: calc(4rem + env(safe-area-inset-bottom, 0px));
}

/* Top safe area for fullscreen modals (notch/Dynamic Island) */
.safe-area-top {
  padding-top: env(safe-area-inset-top, 0px);
}

/* Slide-up animation for modals/sheets */
@keyframes slide-up {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slide-up 0.3s ease-out forwards;
}
